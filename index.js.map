{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["\nconst KeyMine = '47125427-ad9e927b7d4f8d8b2ea4266bf';\n\n\n\n\n\n\nexport function loadPhoto(query) {\n    console.log('queryUser', query);\n    const promPixbay = fetch(`https://pixabay.com/api/?key=${KeyMine}&q=${query}&image_type=photo&orientation=horizontal&safesearch=true`);\n    return promPixbay\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","const list = document.querySelector('.list');\n\nexport function renderPhoto(data) {\n    list.insertAdjacentHTML('beforeend', createMarkup(data.hits));\n\n}\n\nexport function clearList() {\n    list.innerHTML = '';\n}\n\n function createMarkup(arr) {\n    return arr.map(({ previewURL, tags , likes , views, downloads, comments, largeImageURL}) => \n        `<li>\n            <a href=\"${largeImageURL}\"><img src = \"${previewURL}\" alt = \"${tags}\" width = \"300px\"></a>      \n             <div class = \"bottomLine\">\n\n                <div class = \"col\">\n                    <div class = \"name\">Likes</div>\n                    <div class = \"value\">${likes}</div>\n                </div>\n\n                 <div class = \"col\">\n                    <div class = \"name\">Views</div>\n                    <div class = \"value\">${views}</div>\n                </div>\n\n                 <div class = \"col\">\n                    <div class = \"name\">Comments</div>\n                    <div class = \"value\">${comments}</div>\n                </div>\n\n                 <div class = \"col\">\n                    <div class = \"name\">Downloads</div>\n                    <div class = \"value\">${downloads}</div>\n                </div>\n\n            </div>\n        </li>`\n    ).join('')\n }\n\n\n ","\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n// Описаний у документації\nimport iziToast from \"izitoast\";\n// Додатковий імпорт стилів\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n\n\n\nimport { loadPhoto } from './js/pixabay-api'\n\nimport { renderPhoto, clearList } from './js/render-functions'\n\nconst inputSearch = document.querySelector('.inputSearch');\nconst btnSearch = document.querySelector('.btnSearch');\nconst loadingText = document.querySelector('.loading-text');\nconst searchForm = document.querySelector('.search-form');\n\n\nsearchForm.addEventListener('submit', getInfo);\n\n\nfunction getInfo(event) {\n    event.preventDefault();\n    const formData = new FormData(event.target);\n    const searchStr = formData.get('inputSearch').trim();\n    \n    if (!searchStr) {\n        iziToast.warning({\n            title: 'Caution',\n            message: 'You forgot to write search. Please try again!',\n            position: 'topRight',\n        });\n        return\n    }\n\n    console.log(searchStr);\n    clearInput();\n    clearList();\n\n    showLoad();\n\n    loadPhoto(searchStr)\n        .then(response => {\n            if (!response.ok) {\n                throw new Error(response.statusText);\n            }\n            return response.json()\n        })\n        .then(data => {\n\n            hideLoad();\n            \n            if (data.hits.length === 0) {\n                iziToast.error({\n                title: 'Error',\n                message: 'Sorry, there are no images matching your search query. Please try again!',\n                position: 'topRight',\n                });\n                return\n            }\n\n            renderPhoto(data);\n            const lightbox = new SimpleLightbox('.list a', {\n            captionDelay: 250,  \n            captionData: 'alt',\n    nav: true,\n});\n\n\n        })\n        .catch(error => {\n            hideLoad();\n            console.log('error', error);\n            iziToast.error({\n                title: 'Error',\n                message: 'Something go wrong. Please try again!',\n                position: 'topRight',\n                });\n                return\n        })\n}\n\nfunction showLoad() {\n    loadingText.innerHTML = 'Loading images, please wait...';\n}\n\nfunction hideLoad() {\n    loadingText.innerHTML = '';\n}\n\n\nfunction clearInput() {\n    inputSearch.value = '';\n\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"],"names":["KeyMine","loadPhoto","query","list","renderPhoto","data","createMarkup","clearList","arr","previewURL","tags","likes","views","downloads","comments","largeImageURL","inputSearch","loadingText","searchForm","getInfo","event","searchStr","iziToast","clearInput","showLoad","response","hideLoad","SimpleLightbox","error"],"mappings":"6vBACA,MAAMA,EAAU,qCAOT,SAASC,EAAUC,EAAO,CAC7B,eAAQ,IAAI,YAAaA,CAAK,EACX,MAAM,gCAAgCF,CAAO,MAAME,CAAK,0DAA0D,CAEzI,CCZA,MAAMC,EAAO,SAAS,cAAc,OAAO,EAEpC,SAASC,EAAYC,EAAM,CAC9BF,EAAK,mBAAmB,YAAaG,EAAaD,EAAK,IAAI,CAAC,CAEhE,CAEO,SAASE,GAAY,CACxBJ,EAAK,UAAY,EACrB,CAEC,SAASG,EAAaE,EAAK,CACxB,OAAOA,EAAI,IAAI,CAAC,CAAE,WAAAC,EAAY,KAAAC,EAAO,MAAAC,EAAQ,MAAAC,EAAO,UAAAC,EAAW,SAAAC,EAAU,cAAAC,CAAa,IAClF;AAAA,uBACeA,CAAa,iBAAiBN,CAAU,YAAYC,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,2CAKpCC,CAAK;AAAA;AAAA;AAAA;AAAA;AAAA,2CAKLC,CAAK;AAAA;AAAA;AAAA;AAAA;AAAA,2CAKLE,CAAQ;AAAA;AAAA;AAAA;AAAA;AAAA,2CAKRD,CAAS;AAAA;AAAA;AAAA;AAAA,cAKpD,EAAM,KAAK,EAAE,CACb,CCxBA,MAAMG,EAAc,SAAS,cAAc,cAAc,EACvC,SAAS,cAAc,YAAY,EACrD,MAAMC,EAAc,SAAS,cAAc,eAAe,EACpDC,EAAa,SAAS,cAAc,cAAc,EAGxDA,EAAW,iBAAiB,SAAUC,CAAO,EAG7C,SAASA,EAAQC,EAAO,CACpBA,EAAM,eAAc,EAEpB,MAAMC,EADW,IAAI,SAASD,EAAM,MAAM,EACf,IAAI,aAAa,EAAE,KAAI,EAElD,GAAI,CAACC,EAAW,CACZC,EAAS,QAAQ,CACb,MAAO,UACP,QAAS,gDACT,SAAU,UACtB,CAAS,EACD,MACH,CAED,QAAQ,IAAID,CAAS,EACrBE,IACAhB,IAEAiB,IAEAvB,EAAUoB,CAAS,EACd,KAAKI,GAAY,CACd,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,UAAU,EAEvC,OAAOA,EAAS,KAAM,CAClC,CAAS,EACA,KAAKpB,GAAQ,CAIV,GAFAqB,IAEIrB,EAAK,KAAK,SAAW,EAAG,CACxBiB,EAAS,MAAM,CACf,MAAO,QACP,QAAS,2EACT,SAAU,UAC1B,CAAiB,EACD,MACH,CAEDlB,EAAYC,CAAI,EACC,IAAIsB,EAAe,UAAW,CAC/C,aAAc,IACd,YAAa,MACrB,IAAK,EACT,CAAC,CAGD,CAAS,EACA,MAAMC,GAAS,CACZF,IACA,QAAQ,IAAI,QAASE,CAAK,EAC1BN,EAAS,MAAM,CACX,MAAO,QACP,QAAS,wCACT,SAAU,UAC1B,CAAiB,CAEjB,CAAS,CACT,CAEA,SAASE,GAAW,CAChBP,EAAY,UAAY,gCAC5B,CAEA,SAASS,GAAW,CAChBT,EAAY,UAAY,EAC5B,CAGA,SAASM,GAAa,CAClBP,EAAY,MAAQ,EAExB"}